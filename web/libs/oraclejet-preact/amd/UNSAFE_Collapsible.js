define(["exports","preact/jsx-runtime","preact/hooks","./hooks/UNSAFE_useId","preact","css!./UNSAFE_Collapsible.css","./utils/UNSAFE_classNames","./UNSAFE_Flex","./UNSAFE_Divider","./index-6aed3532","./index-6f29250e","./hooks/UNSAFE_usePress","./classNames-429bf434","./Flex-556d723b","./Divider-84e27e2d","./hooks/UNSAFE_useAnimation","./useAnimation-5d80cd95","./tslib.es6-6a195797","./utils/UNSAFE_interpolations/dimensions","./utils/UNSAFE_arrayUtils","./utils/UNSAFE_size","./_curry1-875b461d","./utils/UNSAFE_mergeInterpolations","./_curry3-512d483b","./_curry2-ad2c6a81","./_has-11a7a18f","./utils/UNSAFE_interpolations/boxalignment","./keys-83d1523f","./utils/UNSAFE_interpolations/flexbox","./flexbox-aaa40e19","./utils/UNSAFE_interpolations/flexitem","./flexitem-d85d1561","./UNSAFE_Icon","./Icon-b5704008","./hooks/UNSAFE_useTooltip","./UNSAFE_Floating","./Floating-31eefce3","preact/compat","./index-4f4526ef","./hooks/UNSAFE_useUser","./UNSAFE_Environment","./UNSAFE_Layer","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./utils/UNSAFE_mergeProps","./hooks/UNSAFE_useTheme"],function(e,s,n,i,t,o,a,l,r,d,c,u,x,h,g,p,E,_,m,b,F,N,A,S,U,j,f,v,k,I,O,P,y,H,T,C,D,R,w,z,$,V,L,M,Y,q,B,G,J,K,Q){"use strict";const W=({isExpanded:e,iconPosition:n})=>{const i="start"===n&&e?c.SvgIcoChevronDown:d.CollapseIcon,t="end"===n&&e?c.SvgIcoChevronUp:c.SvgIcoChevronDown,o="start"===n?i:t;return s.jsx(o,{size:"6x"})},X="_1a3u7w7",Z="ot04ms",ee="_6c8xx5",se="_30icxt",ne="x4onu3",ie="_10h9gxs",te="_1k7o8kv",oe=({children:e,id:i,contentId:o,isDisabled:a,isExpanded:l,iconPosition:r,variant:d="basic",toggleHandler:c})=>{const p=x.classNames([X,"horizontal-rule"===d&&se,l&&"horizontal-rule"!==d&&Z,a&&ee]),E=x.classNames([ne,"end"===r&&te,"start"===r&&ie]),_=n.useCallback(e=>{c(e.target)},[c]),{pressProps:m}=u.usePress(_,{isDisabled:a,isRepeat:!1});return s.jsxs(s.Fragment,{children:[s.jsx("div",Object.assign({role:"button","aria-controls":o,"aria-expanded":l,id:i,tabIndex:0,className:p},m,{children:s.jsx(h.Flex,Object.assign({align:"center",justify:"start"===r?"start":"between"},{children:s.jsxs(t.Fragment,{children:["end"===r&&s.jsx("div",Object.assign({className:E},{children:e})),s.jsx(W,{iconPosition:r,isExpanded:l}),"start"===r&&s.jsx("div",Object.assign({className:E},{children:e}))]})}))})),"horizontal-rule"===d&&s.jsx(g.Divider,{})]})},ae=({children:e,id:i,isExpanded:t,onTransitionEnd:o})=>{const[a,l]=n.useState(t?"expanding":"unmounted"),r=n.useRef({overflowY:"hidden",maxHeight:t?"none":"0"});n.useEffect(()=>{("unmounted"!==a||t)&&l(t?"expanding":"collapsing")},[t,a]);const{nodeRef:d}=E.useAnimation(a,{animationStates:le,onAnimationEnd:({animationState:e})=>{"collapsing"===e&&l("unmounted"),null==o||o()}});return s.jsx("div",Object.assign({className:"_16hypl0",ref:d,id:i,tabIndex:-1,style:r.current,"aria-hidden":!t||void 0},{children:"unmounted"!==a&&e}))},le={expanding:e=>({to:{maxHeight:`${e.scrollHeight}px`},options:{duration:400},end:{maxHeight:"none"}}),collapsing:e=>Object.assign(Object.assign({},"none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`}}),{to:{maxHeight:"0"},options:{duration:400}})};e.Collapsible=({id:e,header:t,children:o,isDisabled:a=!1,isExpanded:l=!1,iconPosition:r="start",variant:d="basic",onToggle:c,onTransitionEnd:u})=>{const x=n.useRef(null),h=i.useId(),g=`oj-collapsible-header-${h}`,p=`oj-collapsible-content-${h}`,E=n.useCallback(e=>{a||null==c||c({value:!l,target:e})},[a,c,l]),_=n.useCallback(()=>{null==u||u({value:l})},[u,l]);return s.jsxs("div",Object.assign({id:e,ref:x},{children:[s.jsx(oe,Object.assign({id:g,contentId:p,toggleHandler:E,isDisabled:a,isExpanded:l,iconPosition:r,variant:d},{children:t})),s.jsx(ae,Object.assign({id:p,isExpanded:l,onTransitionEnd:_},{children:o}))]}))},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_Collapsible.js.map
