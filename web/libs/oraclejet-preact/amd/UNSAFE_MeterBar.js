define(["exports","./tslib.es6-6a195797","preact/jsx-runtime","./utils/UNSAFE_size","css!./UNSAFE_MeterBar.css","./utils/UNSAFE_classNames","./utils/UNSAFE_mergeProps","preact/hooks","./hooks/UNSAFE_useUser","./hooks/PRIVATE_useDvtMeterEvents","./utils/PRIVATE_meterUtils","./PRIVATE_Meter","./classNames-429bf434","./hooks/UNSAFE_useTabbableMode","./UNSAFE_Environment","preact","./UNSAFE_Layer","preact/compat","./hooks/UNSAFE_useTooltip","./hooks/UNSAFE_useId","./UNSAFE_Floating","./Floating-31eefce3","./index-4f4526ef","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./utils/UNSAFE_arrayUtils","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./hooks/UNSAFE_useAnimation","./useAnimation-5d80cd95"],function(t,e,o,r,i,a,n,s,l,c,d,h,u,m,g,p,v,_,f,b,x,S,E,k,z,M,A,T,F,U,N,j,B){"use strict";function y(t){if(!t)return{width:0,height:0};const e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function C({orientation:t,percentage:e,color:r,position:i}){const a="horizontal"===t,{direction:n}=l.useUser(),s="rtl"===n,c="start"===i;return o.jsx("div",{class:u.classNames([q.base,q[`${t}Border`],q[`${t}`],c?a?q.horiontalStart:q["verticalStart"+(s?"Rtl":"Ltr")]:""]),style:{left:a&&!s?e:void 0,right:a&&s?e:void 0,bottom:a?void 0:e,backgroundColor:r}})}const q={base:"_6n8lx0",verticalBorder:"y6llgw",horizontalBorder:"fefc9s",vertical:"o0nisl",horizontal:"cp1ff2",horiontalStart:"ogmux",verticalStartLtr:"s16l99",verticalStartRtl:"l7pll5"};function R(t){var{color:r,length:i,orientation:a}=t,n=e.__rest(t,["color","length","orientation"]);const{direction:s}=l.useUser(),c="horizontal"===a,d="rtl"===s;return o.jsx("div",{class:u.classNames([I.base,c?I["horizontalBarTrackSection"+(d?"Rtl":"Ltr")]:I.verticalBarTrackSection,n.class]),style:{width:c?i:"100%",height:c?"100%":i,backgroundColor:r}})}const I={base:"_16lym90",verticalBarTrackSection:"b4qxel",horizontalBarTrackSectionRtl:"_141gecn",horizontalBarTrackSectionLtr:"_162rj5u"};const L=function(t,e,o){const r=[];return t.start&&r.push($[`${e}Margin${o?"Top":"Start"}`]),t.end&&r.push($[`${e}Margin${o?"Bottom":"End"}`]),r},w={base:"_150sq4i",horizontal:"_12h58qv",vertical:"qtqudt",interactive:"_1mc2ffo"},P={base:"afco8b",vertical:"_1mw971v",horizontal:"_1ofqakq"},$={base:"_17i8m2u",vertical:"_1ojqql2",smHorizontal:"iqsmyp",smVertical:"_1dw26rn",mdHorizontal:"dy2pns",mdVertical:"vur72b",lgHorizontal:"_113pqxi",lgVertical:"vh46j1",smMarginTop:"_17j60us",mdMarginTop:"pdfy1",lgMarginTop:"ovoe3n",smMarginStart:"_7s70c3",mdMarginStart:"vmp957",lgMarginStart:"_13x7r3v",smMarginEnd:"x7imxq",mdMarginEnd:"zm5hci",lgMarginEnd:"c2cp7v",smMarginBottom:"_7k2rz2",mdMarginBottom:"dkvqmn",lgMarginBottom:"_83m1ea"},V={horizontalFirst:"_1bx0cvb",horizontalLast:"_18rxq8h",verticalFirst:"_1nyzqbc",verticalLast:"xrmrsx"};t.MeterBar=function(t){var i,a,{max:g=100,min:p=0,value:v=0,step:_=1,length:f="100%",size:b="lg",orientation:x="horizontal",isTrackRendered:S=!0,thresholdDisplay:E="all",indicatorSize:k=1}=t,z=e.__rest(t,["max","min","value","step","length","size","orientation","isTrackRendered","thresholdDisplay","indicatorSize"]);d.validateRange(p,g,v,_);const M="horizontal"===x,A=s.useRef(null),T=s.useRef(y(null)),{direction:F}=l.useUser(),U="rtl"===F;s.useEffect(()=>{(z.onCommit||z.onInput)&&(T.current=y(A.current))},[b,f,x,z.onCommit,z.onInput]);const N=c.usePointerEvents(v,t=>{if(t.target==A.current)return function(t,e,o,r,i,a,n){const s=e.current;if(!s||0===s.width)return;let l;if("horizontal"===a){const e=t.offsetX;l=o+(r-o)*(n?s.width-e:e)/s.width}else l=o+(r-o)*(s.height-t.offsetY)/s.height;return l=Math.round(l/i)*i,Math.max(o,Math.min(r,l))}(t,T,p,g,_,x,U)},A,z.onCommit,z.onInput),j=c.useKeyboardEvents(v,p,g,_,z.onCommit,z.onInput),{datatipContent:B,datatipProps:q}=c.useMeterDatatip(v,z.datatip,z.ariaDescribedBy),I=d.getMeterAriaProps(v,p,g,`${v}`,z.accessibleLabel,z.ariaLabelledBy,z.thresholds),D=n.mergeProps(N,j,q,I),H=Math.max(0,Math.min(1,k)),O=100*(v-p)/(g-p)+"%",K=100*H+"%",{trackColor:X,indicatorColor:Y}=d.getTrackAndIndicatorColor(v,E,z.trackColor,z.indicatorColor,z.thresholds),G=function(t){let e={start:!1,end:!1};return t&&(e=t.reduce((t,e)=>(t.start=t.start||"start"===e.position,t.end=t.end||"end"===e.position||null==e.position,t),e)),e}(z.referenceLines),J=z.onCommit||z.onInput,{isTabbable:Q}=m.useTabbableMode();return o.jsxs(o.Fragment,{children:[o.jsx("div",Object.assign({tabIndex:Q?0:-1,role:"slider"},D,{style:{width:M?r.sizeToCSS(f):void 0,height:M?void 0:r.sizeToCSS(f)},class:u.classNames([w.base,w[x]])},{children:o.jsxs(h.BarTrack,Object.assign({ref:A,orientation:x,color:!S||"all"===E&&z.thresholds?"transparent":X,class:u.classNames([$.base,J?w.interactive:"",M?"":$.vertical,M?$[`${b}Horizontal`]:$[`${b}Vertical`],...L(G,b,M)])},{children:["all"===E&&(null===(i=z.thresholds)||void 0===i?void 0:i.filter(t=>t.max>p&&t.max<=g).sort((t,e)=>t.max-e.max).map((t,e,r)=>{const i=0===e?t.max-p:t.max-r[e-1].max;return o.jsxs(o.Fragment,{children:[o.jsx(R,{class:0===e?V[`${x}First`]:"",orientation:x,length:100*i/(g-p)+"%",color:t.color}),S&&e===r.length-1&&t.max<g?o.jsx(R,{class:V[`${x}Last`],color:X,orientation:x,length:100*(g-r[e].max)/(g-p)+"%"}):""]})})),o.jsx(h.BarValue,{length:O,size:K,orientation:x,class:u.classNames([P.base,P[x]]),color:Y}),null===(a=z.referenceLines)||void 0===a?void 0:a.map(t=>o.jsx(C,{color:t.color,orientation:x,percentage:100*(t.value-p)/(g-p)+"%",position:t.position}))]}))})),B]})},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_MeterBar.js.map
