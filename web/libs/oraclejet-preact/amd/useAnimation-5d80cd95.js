define(["exports","preact/hooks","./tslib.es6-6a195797"],function(t,n,e){"use strict";function r(t){if(!t)return{};const{translateX:n,translateY:r,translateZ:s,rotateX:a,rotateY:c,rotateZ:o,scaleX:u,scaleY:i,scaleZ:l,skewX:f,skewY:$}=t,d=e.__rest(t,["translateX","translateY","translateZ","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skewX","skewY"]),g=`${t.transform||""}${function(t,n,e){return`${t?` translateX(${t})`:""}${n?` translateY(${n})`:""}${e?` translateZ(${e})`:""}`}(n,r,s)}${function(t,n,e){return`${t?` rotateX(${t})`:""}${n?` rotateY(${n})`:""}${e?` rotateZ(${e})`:""}`}(a,c,o)}${function(t,n,e){return`${t||0===t?` scaleX(${t})`:""}${n||0===n?` scaleY(${n})`:""}${e||0===e?` scaleZ(${e})`:""}`}(u,i,l)}${function(t,n){return`${t?` skewX(${t})`:""}${n?` skewY(${n})`:""}`}(f,$)}`;return Object.assign(Object.assign({},d),g&&{transform:g})}function s(t){if(!t)return{};const n=r(t),{offset:s}=n,a=e.__rest(n,["offset"]);return Object.assign(Object.assign({},a),s&&{cssOffset:s})}t.useAnimation=function(t,{animationStates:e,isAnimatedOnMount:a=!1,onAnimationEnd:c=(()=>{})}){const o=n.useRef(!1),u=n.useRef(null),i=n.useRef(),l=n.useRef(),f=n.useRef(e);n.useEffect(()=>{var n;if(i.current===t)return;const e=i.current;var $,d,g;i.current=t,"running"===(null===(n=l.current)||void 0===n?void 0:n.playState)&&($=l.current,d=u.current,((null==(g=d)?void 0:g.offsetWidth)||(null==g?void 0:g.offsetHeight)||(null==g?void 0:g.getClientRects().length))&&$.commitStyles(),$.cancel());const b=u.current;if(!b)return;if(!o.current&&(o.current=!0,!a))return;const X=function(t,n,e,r){const s=t[`${r} => ${e}`]||t[e],a="function"==typeof s?s(n):s;return a&&Object.keys(a).length>0?a:null}(f.current,b,t,e);X&&(l.current=function(t,n,e,a){const{delay:c,duration:o,easing:u}=t.options||{},i={delay:c||0,duration:o||400,easing:u?"string"==typeof u?u:`cubic-bezier(${u[0]}, ${u[1]}, ${u[2]}, ${u[3]})`:"ease"},l=n.animate([s(t.from),s(t.to)],Object.assign({},i));return l.onfinish=()=>{!function(t,n,e){const s=n?Object.assign(Object.assign({},r(e.to)),r(e.end)):r(e.end);for(const n in s)t.style[n]=s[n]}(n,!0,t),null==a||a({animationState:e})},l}(X,b,t,c))},[t,a,c]);const $=n.useCallback(()=>{const t=l.current;"running"===(null==t?void 0:t.playState)&&t.cancel()},[]);return{nodeRef:n.useCallback(t=>{var n;t!=u.current&&(u.current&&(null===(n=l.current)||void 0===n||n.cancel(),l.current=void 0),u.current=t)},[]),controller:{cancel:$}}}});
//# sourceMappingURL=useAnimation-5d80cd95.js.map
